# Migration `20201122121741-changed-primary-column-of-votes-to-timespamp`

This migration has been generated by Leonardo Petrucci at 11/22/2020, 12:17:41 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Vote" DROP CONSTRAINT "Vote_pkey",
DROP COLUMN "id",
ADD COLUMN     "timestamp" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD PRIMARY KEY ("timestamp")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200917201433-initial-migration..20201122121741-changed-primary-column-of-votes-to-timespamp
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = ["postgres", "sqlite"]
-  url = "***"
+  url = "***"
 }
 model Server {
   id        Int     @default(autoincrement()) @id
@@ -41,9 +41,9 @@
   Servers Server[]
 }
 model Vote {
-  id       Int    @default(autoincrement()) @id
+  timestamp       DateTime    @default(now()) @id
   authorId Int
   serverId Int
   author   User   @relation(fields: [authorId], references: [id])
   server   Server @relation(fields: [serverId], references: [id])
```


